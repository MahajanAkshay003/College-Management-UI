{"ast":null,"code":"var _jsxFileName = \"/home/vomaksh/Documents/college-project-dummy/College-Management-System-UI/src/containers/Dashboard/DashboardContainer.js\";\nimport React, { Fragment, useEffect } from 'react';\nimport { Grid } from \"@material-ui/core\";\nimport Header from \"../../components/Helpers/Header/Header\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Dashboard from \"./Dashboard\";\nimport { getUserByToken } from \"../../remoteMethods/CollegeUser/CollegeUser\";\nimport { loginUserAction } from \"../../actions/CollegeUser/actionObjects/collegeUserActions\";\n\nconst DashboardContainer = props => {\n  const user = props.user;\n  useEffect(() => {\n    if (user.isAuthenticated) {\n      props.history.push(\"/dashboard\");\n    } else {\n      const token = localStorage.getItem(\"token\");\n\n      if (token) {\n        getUserByToken(token).then(user => {\n          props.loginUser(user);\n          props.history.push(\"/dashboard\");\n        }).catch(error => {\n          localStorage.clear();\n          props.history.push(\"/\");\n        });\n      } else {\n        props.history.push(\"/\");\n      }\n    }\n  }, []);\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/dashboard\",\n    render: props => React.createElement(Dashboard, Object.assign({}, props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  })))));\n};\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loginUser: payload => dispatch(loginUserAction(payload))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DashboardContainer);","map":{"version":3,"sources":["/home/vomaksh/Documents/college-project-dummy/College-Management-System-UI/src/containers/Dashboard/DashboardContainer.js"],"names":["React","Fragment","useEffect","Grid","Header","BrowserRouter","Switch","Route","connect","Dashboard","getUserByToken","loginUserAction","DashboardContainer","props","user","isAuthenticated","history","push","token","localStorage","getItem","then","loginUser","catch","error","clear","mapStateToProps","state","mapDispatchToProps","dispatch","payload"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,OAAOC,MAAP,MAAmB,wCAAnB;AACA,SAASC,aAAT,EAAwBC,MAAxB,EAAgCC,KAAhC,QAA6C,kBAA7C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAQC,cAAR,QAA6B,6CAA7B;AACA,SAAQC,eAAR,QAA8B,4DAA9B;;AAEA,MAAMC,kBAAkB,GAAGC,KAAK,IAAI;AAAA,QAC1BC,IAD0B,GACjBD,KADiB,CAC1BC,IAD0B;AAElCZ,EAAAA,SAAS,CAAC,MAAO;AACf,QAAIY,IAAI,CAACC,eAAT,EAA0B;AACxBF,MAAAA,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,YAAnB;AACD,KAFD,MAEO;AACL,YAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,UAAIF,KAAJ,EAAW;AACTR,QAAAA,cAAc,CAACQ,KAAD,CAAd,CAAsBG,IAAtB,CAA2BP,IAAI,IAAI;AACjCD,UAAAA,KAAK,CAACS,SAAN,CAAgBR,IAAhB;AACAD,UAAAA,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,YAAnB;AACD,SAHD,EAGGM,KAHH,CAGSC,KAAK,IAAI;AAChBL,UAAAA,YAAY,CAACM,KAAb;AACAZ,UAAAA,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD,SAND;AAOD,OARD,MAQO;AACLJ,QAAAA,KAAK,CAACG,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD;AACF;AACF,GAjBQ,EAiBN,EAjBM,CAAT;AAkBA,SACI,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,YAAb;AAA2B,IAAA,MAAM,EAAEJ,KAAK,IAAI,oBAAC,SAAD,oBAAgBA,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,CADF,CADJ;AAWD,CA/BD;;AAiCA,MAAMa,eAAe,GAAGC,KAAK,KAAK;AAChCb,EAAAA,IAAI,EAAEa,KAAK,CAACb;AADoB,CAAL,CAA7B;;AAIA,MAAMc,kBAAkB,GAAGC,QAAQ,KAAK;AACtCP,EAAAA,SAAS,EAAEQ,OAAO,IAAID,QAAQ,CAAClB,eAAe,CAACmB,OAAD,CAAhB;AADQ,CAAL,CAAnC;;AAIA,eAAetB,OAAO,CAACkB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6ChB,kBAA7C,CAAf","sourcesContent":["import React, {Fragment, useEffect} from 'react';\nimport { Grid } from \"@material-ui/core\";\nimport Header from \"../../components/Helpers/Header/Header\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Dashboard from \"./Dashboard\";\nimport {getUserByToken} from \"../../remoteMethods/CollegeUser/CollegeUser\";\nimport {loginUserAction} from \"../../actions/CollegeUser/actionObjects/collegeUserActions\";\n\nconst DashboardContainer = props => {\n  const { user } = props;\n  useEffect(()  => {\n    if (user.isAuthenticated) {\n      props.history.push(\"/dashboard\");\n    } else {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        getUserByToken(token).then(user => {\n          props.loginUser(user);\n          props.history.push(\"/dashboard\");\n        }).catch(error => {\n          localStorage.clear();\n          props.history.push(\"/\");\n        })\n      } else {\n        props.history.push(\"/\");\n      }\n    }\n  }, []);\n  return (\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <BrowserRouter>\n            <Switch>\n              <Route path={\"/dashboard\"} render={props => <Dashboard { ...props } />} />\n            </Switch>\n          </BrowserRouter>\n        </Grid>\n      </Grid>\n  )\n};\n\nconst mapStateToProps = state => ({\n  user: state.user\n})\n\nconst mapDispatchToProps = dispatch => ({\n  loginUser: payload => dispatch(loginUserAction(payload))\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DashboardContainer);"]},"metadata":{},"sourceType":"module"}